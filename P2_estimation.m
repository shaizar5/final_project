clc
[f, px, py, mx, my, s] = GetInternalParameters()

R =[   1.000000000000000                   0                   0; ...
                   0   0.642787609686539   0.766044443118978; ...
                   0  -0.766044443118978   0.642787609686539]

               

Ct =[    0;   130;     0]


P1 = ProjectionMatrix(R, Ct, f, px, py, mx, my, s )

el = [  25.000000000000128; ...
  84.587679629710706; ...
   1.000000000000000]


er = [  25.000000000000128 ; ...
  84.587679629710706 ; ...
   1.000000000000000]


H =  [0.842512188031571   0.006386711840735                   0 ; ...
  -0.006386711840735   0.842512188031571                   0 ; ...
   4.240219299745431  11.511689348814016   1.000000000000000]


F = [   0.000000000000000  -0.011336531107972   0.958930861473425 ; ...
   0.011336531107972  -0.000000000000000  -0.283413277699313 ; ...
  -0.958930861473427   0.283413277699314   0.000000000000015]



P2 = H*P1
%P2 = P2./P2(3,4)


Fe = Utilities.skewSymmetricMatrix(er)*P2*pinv(P1)
Fh = Utilities.skewSymmetricMatrix(er)*H


[K1, R1, C1] = DecomposeProjectionMatrix(P1)
[K2, R2, C2] = DecomposeProjectionMatrix(P2) 

%X=K*pinv(K2)

%K2*X
